Vue.component("payment-item",{props:["p"],methods:{colorifyPayment:function(n){return n.Number===0?"":n.IsAccumulation===!0?"text-success":"text-danger"}},template:'<tr><th>{{ p.Number }}<\/th><td class="d-none">{{ p.Date }}<\/td><td>{{ p.ValueBodyString }}<\/td><td :class="colorifyPayment(p)" v-b-tooltip.hover :title="p.IsAccumulation===true?\'начислено на мои накопления, следующий накопительный платёж уменьшен\':\'взнос за владение и пользование\'">{{ p.ValuePercentString }}<\/td><td>{{ p.ValueTotalString }}<\/td><\/tr>'});var app=new Vue({el:"#app",data:{ImmovablesValue:7e4,TermInYears:20,BankInterestRate:15,CoopInflationRate:5,CoopInterestRateString:"",AccumulationTime:0,BankAdditionalFeeString:"",BankTotalPayments:0,BankMonthlyPayments:[],CoopOverPaymentString:"",BankOverPaymentString:"",OverPaymentTimesString:"",CoopEntranceFeeString:"",CoopTotalPayments:0,CoopMonthlyPayments:[]},methods:{sliderChange:function(){let n=this;axios.post("/Calc/Calculate",{ImmovablesValue:this.ImmovablesValue,TermInYears:this.TermInYears,BankInterestRate:this.BankInterestRate,CoopInflationRate:this.CoopInflationRate,AccumulationTime:this.AccumulationTime}).then(function(t){n.BankAdditionalFeeString=t.data.BankAdditionalFeeString;n.BankTotalPayments=t.data.BankTotalPayments;n.BankMonthlyPayments=t.data.BankMonthlyPayments;n.CoopEntranceFeeString=t.data.CoopEntranceFeeString;n.CoopTotalPayments=t.data.CoopTotalPayments;n.CoopMonthlyPayments=t.data.CoopMonthlyPayments;n.CoopInterestRateString=t.data.CoopInterestRateString;n.CoopOverPaymentString=t.data.CoopOverPaymentString;n.BankOverPaymentString=t.data.BankOverPaymentString;n.OverPaymentTimesString=t.data.OverPaymentTimesString}).catch(function(n){console.log(n)})}},created:function(){this.AccumulationTime=Math.round(this.TermInYears*12/5);this.sliderChange()}});